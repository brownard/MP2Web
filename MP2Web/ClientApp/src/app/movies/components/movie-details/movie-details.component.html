<div *ngIf="!(movie$ | async)" class="text-center">
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>

<div *ngIf="movie$ | async as movie" class="container p-0">

  <div class="mx-auto p-3 bg-white shadow-sm" style="max-width: 768px">

    <div class="row mx-0">
      <div class="col-4 pl-0">
        <img [src]="artworkService.getCoverUrl(movie, 0)" class="img-fluid d-block" />
      </div>
      <div class="col-8 metadata">
        <h6 class="media-title">{{movie.Title}}</h6>
        <app-star-rating [rating]="movie.Rating | number: '1.0-0'" class="yellow-star"></app-star-rating>
        <span class="text-truncate ml-2">{{movie.Rating | number: '1.0-0'}}/10</span>
        <div class="text-truncate">{{movie.Year}}</div>
        <div class="text-truncate">{{movie.Runtime}} minutes</div>
      </div>
    </div>
    <div class="row mx-0 media-summary">
      <p>{{movie.Summary}}</p>
    </div>

    <div class="row mx-0">
      <app-video-player [mediaItem]="movie" style="width: 100%;"></app-video-player>
    </div>

    <div class="row mx-0">
      <table class="table metadata">
        <tbody>
          <tr>
            <th scope="row">Genres</th>
            <td>{{movie.Genres.join(', ')}}</td>
          </tr>
          <tr>
            <th scope="row">Actors</th>
            <td>{{mapProperty(movie.Actors, 'Title').join(', ')}}</td>
          </tr>
          <tr>
            <th scope="row">Director</th>
            <td>{{movie.Directors.join(', ')}}</td>
          </tr>
          <tr>
            <th scope="row">Writers</th>
            <td>{{movie.Directors.join(', ')}}</td>
          </tr>
          <tr>
            <th scope="row">Language</th>
            <td>{{movie.Language}}</td>
          </tr>
          <tr>
            <th scope="row">Id</th>
            <td>{{movie.Id}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
 </div>
